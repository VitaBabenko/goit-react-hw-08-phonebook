{"version":3,"file":"static/js/46.835ab1e9.chunk.js","mappings":"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","sources":["redux/contacts/contactsSelectors.js","components/ContactForm.jsx","components/Filter.jsx","components/ContactListItem.jsx","components/ContactList.jsx","pages/ContactsPage.jsx"],"sourcesContent":["export const selectContacts = state => state.contacts.items;\r\n\r\nexport const selectIsLoading = state => state.contacts.isLoading;\r\n\r\nexport const selectError = state => state.contacts.error;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { addContact } from '../redux/contacts/contactsOperations';\r\nimport { selectContacts } from '../redux/contacts/contactsSelectors';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport * as Yup from 'yup';\r\nimport {\r\n  Box,\r\n  Heading,\r\n  FormLabel,\r\n  FormControl,\r\n  Input,\r\n  FormErrorMessage,\r\n  Button,\r\n} from '@chakra-ui/react';\r\nimport { Formik, Form, Field } from 'formik';\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .required('Required')\r\n    .matches(\r\n      /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\r\n      'Name may contain only letters, apostrophe, dash and spaces!'\r\n    ),\r\n  phone: Yup.string()\r\n    .required('Required')\r\n    .matches(\r\n      /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/,\r\n      'Phone number must be digits and can contain spaces, dashes, parentheses and can start with +!'\r\n    ),\r\n});\r\n\r\nexport const ContactForm = () => {\r\n  const contacts = useSelector(selectContacts);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFormSubmit = (values, actions) => {\r\n    contacts.filter(\r\n      contact => contact.name.toLowerCase() === values.name.toLowerCase()\r\n    ).length\r\n      ? toast.error(`${values.name} is already in contacts!`)\r\n      : dispatch(addContact(values));\r\n\r\n    actions.resetForm();\r\n  };\r\n\r\n  const validateName = value => {\r\n    let error;\r\n    if (value === '') {\r\n      error = 'Required';\r\n    }\r\n    return error;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Heading\r\n        as=\"h2\"\r\n        fontSize=\"3xl\"\r\n        color=\"purple\"\r\n        align=\"center\"\r\n        marginBottom=\"15px\"\r\n      >\r\n        Phonebook\r\n      </Heading>\r\n      <Formik\r\n        initialValues={{\r\n          name: '',\r\n          phone: '',\r\n        }}\r\n        validationSchema={ContactSchema}\r\n        onSubmit={handleFormSubmit}\r\n      >\r\n        <Box\r\n          width=\"400px\"\r\n          border=\"1px\"\r\n          borderRadius=\"10px\"\r\n          borderColor=\"purple\"\r\n          padding=\"18px\"\r\n          marginLeft=\"auto\"\r\n          marginRight=\"auto\"\r\n        >\r\n          <Form>\r\n            <Field name=\"name\" validate={validateName}>\r\n              {({ field, form }) => (\r\n                <FormControl isInvalid={form.errors.name && form.touched.name}>\r\n                  <FormLabel color=\"purple\">\r\n                    Name\r\n                    <Input\r\n                      {...field}\r\n                      variant=\"filled\"\r\n                      name=\"name\"\r\n                      type=\"text\"\r\n                    />\r\n                    <FormErrorMessage>{form.errors.name}</FormErrorMessage>\r\n                  </FormLabel>\r\n                </FormControl>\r\n              )}\r\n            </Field>\r\n            <Field name=\"phone\" validate={validateName}>\r\n              {({ field, form }) => (\r\n                <FormControl\r\n                  isInvalid={form.errors.phone && form.touched.phone}\r\n                >\r\n                  <FormLabel color=\"purple\">\r\n                    Number\r\n                    <Input\r\n                      {...field}\r\n                      variant=\"filled\"\r\n                      name=\"phone\"\r\n                      type=\"tel\"\r\n                    />\r\n                    <FormErrorMessage>{form.errors.phone}</FormErrorMessage>\r\n                  </FormLabel>\r\n                </FormControl>\r\n              )}\r\n            </Field>\r\n            <Button\r\n              display=\"flex\"\r\n              marginLeft=\"auto\"\r\n              marginRight=\"auto\"\r\n              type=\"submit\"\r\n              size=\"md\"\r\n              colorScheme=\"purple\"\r\n              variant=\"solid\"\r\n            >\r\n              Add contact\r\n            </Button>\r\n          </Form>\r\n        </Box>\r\n      </Formik>\r\n      <Toaster toastOptions={{ duration: 3000 }} />\r\n    </>\r\n  );\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { FormLabel, Input } from '@chakra-ui/react';\r\n\r\nexport const Filter = ({ value, onChange }) => {\r\n  return (\r\n    <FormLabel\r\n      margin=\"0\"\r\n      display=\"flex\"\r\n      justifyContent=\"center\"\r\n      gap=\"15px\"\r\n      color=\"tomato\"\r\n    >\r\n      Search contacts\r\n      <Input\r\n        color=\"tomato\"\r\n        borderRadius=\"10px\"\r\n        border=\"1px\"\r\n        width=\"200px\"\r\n        variant=\"outline\"\r\n        size=\"sm\"\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    </FormLabel>\r\n  );\r\n};\r\n\r\nFilter.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func,\r\n};\r\n","import { useDispatch } from 'react-redux';\r\nimport { deleteContact } from '../redux/contacts/contactsOperations';\r\nimport PropTypes from 'prop-types';\r\nimport { Text, Button } from '@chakra-ui/react';\r\n\r\nexport const ContactListItem = ({ contact: { _id, name, phone } }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <>\r\n      <Text fontSize=\"lg\">{name} :</Text>\r\n      <Text fontSize=\"lg\">{phone}</Text>\r\n      <Button\r\n        size=\"md\"\r\n        colorScheme=\"purple\"\r\n        variant=\"solid\"\r\n        type=\"button\"\r\n        onClick={() => dispatch(deleteContact(_id))}\r\n      >\r\n        Delete\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nContactListItem.propTypes = {\r\n  contact: PropTypes.shape({\r\n    _id: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    phone: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { ContactListItem } from './ContactListItem';\r\nimport { ListItem, OrderedList } from '@chakra-ui/react';\r\n\r\nexport const ContactList = ({ contacts }) => {\r\n  return (\r\n    <>\r\n      <OrderedList\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        gap=\"15px\"\r\n        marginTop=\"30px\"\r\n        color=\"purple\"\r\n        width=\"400px\"\r\n        marginLeft=\"auto\"\r\n        marginRight=\"auto\"\r\n        padding=\"15px\"\r\n      >\r\n        {contacts.map(contact => {\r\n          return (\r\n            <ListItem\r\n              key={contact._id}\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              gap=\"45px\"\r\n            >\r\n              <ContactListItem contact={contact} />\r\n            </ListItem>\r\n          );\r\n        })}\r\n      </OrderedList>\r\n    </>\r\n  );\r\n};\r\n\r\nContactList.propTypes = {\r\n  contacts: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      _id: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ),\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchContacts } from '../redux/contacts/contactsOperations';\r\nimport { ContactForm } from '../components/ContactForm';\r\nimport { Filter } from '../components/Filter';\r\nimport { ContactList } from '../components/ContactList';\r\nimport {\r\n  selectContacts,\r\n  selectIsLoading,\r\n  selectError,\r\n} from '../redux/contacts/contactsSelectors';\r\nimport { Spinner, Heading } from '@chakra-ui/react';\r\n\r\nconst ContactsPage = () => {\r\n  const [filter, setFilter] = useState('');\r\n  const dispatch = useDispatch();\r\n  const contacts = useSelector(selectContacts);\r\n  const isLoading = useSelector(selectIsLoading);\r\n  const error = useSelector(selectError);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchContacts());\r\n  }, [dispatch]);\r\n\r\n  const changeFilter = evt => {\r\n    setFilter(evt.currentTarget.value);\r\n  };\r\n\r\n  const visibleFilter = (() => {\r\n    return contacts.filter(contact =>\r\n      contact.name.toLowerCase().includes(filter.toLowerCase())\r\n    );\r\n  })();\r\n\r\n  return (\r\n    <>\r\n      <ContactForm />\r\n      {isLoading && !error && (\r\n        <Spinner\r\n          display=\"flex\"\r\n          marginLeft=\"auto\"\r\n          marginRight=\"auto\"\r\n          marginTop=\"80px\"\r\n          color=\"tomato\"\r\n          size=\"xl\"\r\n          thickness=\"4px\"\r\n          speed=\"0.65s\"\r\n          emptyColor=\"gray.200\"\r\n        />\r\n      )}\r\n      {contacts.length > 0 && (\r\n        <>\r\n          <Heading\r\n            as=\"h2\"\r\n            fontSize=\"3xl\"\r\n            color=\"purple\"\r\n            align=\"center\"\r\n            marginTop=\"40px\"\r\n            marginBottom=\"35px\"\r\n          >\r\n            Contacts\r\n          </Heading>\r\n          <Filter value={filter} onChange={changeFilter} />\r\n          <ContactList contacts={visibleFilter} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContactsPage;\r\n"],"names":["selectContacts","state","contacts","items","selectIsLoading","isLoading","selectError","error","ContactSchema","Yup","shape","name","required","matches","phone","ContactForm","useSelector","dispatch","useDispatch","validateName","value","as","fontSize","color","align","marginBottom","initialValues","validationSchema","onSubmit","values","actions","filter","contact","toLowerCase","length","toast","addContact","resetForm","width","border","borderRadius","borderColor","padding","marginLeft","marginRight","validate","field","form","isInvalid","errors","touched","I","variant","type","display","size","colorScheme","toastOptions","duration","Filter","onChange","margin","justifyContent","gap","ContactListItem","_id","onClick","deleteContact","ContactList","flexDirection","marginTop","map","alignItems","useState","setFilter","useEffect","fetchContacts","visibleFilter","includes","thickness","speed","emptyColor","evt","currentTarget"],"sourceRoot":""}